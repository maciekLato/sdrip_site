<!doctype html>
	<head>
		<style>
			body, html {
			  width: 100%;
			  height: 100%;
			  margin: 0;
			  padding: 0;
			}

			.header {
			  width: 100%;
			  position: fixed;
			  z-index: 1;
			  margin: 0;
			  background-color: #B0E1EB;
			  font-size: 72px;
			  font-family: "Helvetica";
			  color: #eee;
			}
			.spacer {
			  width: 100%;
			  height: 150%;
			  background-color: rgba(0, 0, 0, 0);
			  z-index: 2;
			  position: relative;
			  font-size: 72px;
			  font-family: "Helvetica";
			  color: #B0E1EB;
			}

			.content {
			  width: 100%;
			  height: 100%;
			  background-color: #eee;
			  z-index: 2;
			  position: relative;
			  font-size: 72px;
			  font-family: "Helvetica";
			  color: #B0E1EB;
			}

			h1 {
			  margin: 0;
			}


			@media screen and (min-width: 725px) {
				.img-1 {
					background: url('/images/blur/blur_band_2_flipped.jpg') no-repeat center center;
					background-size: cover;
				}
			}

			@media screen and (max-width: 724px) {
				.img-1 {
					background: url('/images/blur/blur_4_piotr.jpg') no-repeat center center;
					background-size: cover;
				}
			}

			@media screen and (max-width: 724px) {
				.img-2 {
					background: url('/images/blur/blur_4_pat.jpg') no-repeat center center;
					background-size: cover;
				}
			}
			@media screen and (min-width: 725px) {
				.img-2 {
					background: url('/images/blur/blur_band_1.jpg') no-repeat center center;
					background-size: cover;
				}
			}

		</style>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
		<script>
			function KeySpline (mX1, mY1, mX2, mY2) {

			  this.get = function(aX) {
			    if (mX1 == mY1 && mX2 == mY2) return aX; // linear
			    return CalcBezier(GetTForX(aX), mY1, mY2);
			  }

			  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }
			  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }
			  function C(aA1)      { return 3.0 * aA1; }

			  // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.
			  function CalcBezier(aT, aA1, aA2) {
			    return ((A(aA1, aA2)*aT + B(aA1, aA2))*aT + C(aA1))*aT;
			  }

			  // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.
			  function GetSlope(aT, aA1, aA2) {
			    return 3.0 * A(aA1, aA2)*aT*aT + 2.0 * B(aA1, aA2) * aT + C(aA1);
			  }

			  function GetTForX(aX) {
			    // Newton raphson iteration
			    var aGuessT = aX;
			    for (var i = 0; i < 4; ++i) {
			      var currentSlope = GetSlope(aGuessT, mX1, mX2);
			      if (currentSlope == 0.0) return aGuessT;
			      var currentX = CalcBezier(aGuessT, mX1, mX2) - aX;
			      aGuessT -= currentX / currentSlope;
			    }
			    return aGuessT;
			  }
			}
			var spline = new KeySpline(.63, .25, .63, .25);


			//Initial load of page
			$(document).ready(sizeContent);

			//Every resize of window
			$(window).resize(sizeContent);

			//Dynamically assign height
			function sizeContent() {
			var newHeight = $("html").height() + "px";
			$(".header").css("height", newHeight);
			$(".content").css("top", newHeight);
			}

			//Fade header on scroll
			$(window).scroll(function(){
			    $(".img-2").css("opacity", 1 - spline.get(($(window).scrollTop() / $(window).height()) / 2));
			  });

			// adjust curve using new math: http://greweb.me/2012/02/bezier-curve-based-easing-functions-from-concept-to-implementation/
		</script>
	</head>
	<body>
		<section id="header-section header">
			<div class="header img-1"></div>
			<div class="header img-2"></div>
		</section>
		<section class="spacer">
		</section>
		<section id="content-section" style='height: 100%'>
			<div class="content"> yo</div>
		</section>
		<!-- <div class="header"><h1>Header</h1></div>
		<div class="spacer"></div>
		<div class="content"><h1>Content</h1></div> -->
	</body>
</html>